<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Daniel Ni</title>
    <description>My personal site.</description>
    <link>http://danielni.me/</link>
    <atom:link href="http://danielni.me/feed.xml" rel="self" type="application/rss+xml" />
    
      <item>
        <title>Interactive Countries and Regions on a JavaScript Map</title>
        <description>&lt;head&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;https://www.google.com/jsapi&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
	google.load(&quot;visualization&quot;, &quot;1&quot;, {packages:[&quot;geochart&quot;]});
	google.setOnLoadCallback(drawRegionsMap);

	function drawRegionsMap() {

		var data = google.visualization.arrayToDataTable([
			[&#39;Country&#39;, &#39;Popularity&#39;],
			[&#39;Germany&#39;, 200],
			[&#39;United States&#39;, 300],
			[&#39;Brazil&#39;, 400],
			[&#39;Canada&#39;, 500],
			[&#39;France&#39;, 600],
			[&#39;RU&#39;, 700]
			]);

		var options = {};

		var chart = new google.visualization.GeoChart(document.getElementById(&#39;regions_div&#39;));

		chart.draw(data, options);
	}
	&lt;/script&gt;
&lt;/head&gt;

&lt;p&gt;One of the most difficult challenges I had while developing a working prototype of Atlas was figuring out the best way to obtain clickable, colorful countries and regions on a world map using JavaScript. I’d never really worked with any kind of map or location API before, so I had to do a lot of research to figure out which option best fit my needs. There are a lot of mapping libraries and frameworks out there, and it can be hard to parse through the different options for a task like this. So, in this post, I’ll summarize the different technologies I experimented with, along with some specific recommendations based on what exactly each one seems to be best built for.&lt;/p&gt;

&lt;h5 id=&quot;heres-how-the-basic-profile-page-for-atlashttpwwwmyatlasme-ended-up-looking-each-user-can-choose-their-own-countries-and-regions-and-style-their-map-dynamically&quot;&gt;Here’s how the basic profile page for &lt;a href=&quot;http://www.myatlas.me&quot;&gt;Atlas&lt;/a&gt; ended up looking. Each user can choose their own countries and regions and style their map dynamically.&lt;/h5&gt;
&lt;p&gt;&lt;img src=&quot;/assets/map_example.png&quot; alt=&quot;Basic profile page for Atlas&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;google-geochartshttpsdevelopersgooglecomchartinteractivedocsgallerygeochart&quot;&gt;&lt;a href=&quot;https://developers.google.com/chart/interactive/docs/gallery/geochart&quot;&gt;Google Geocharts&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Predictably, my first thought for some kind of map-based API was Google Maps, so I did a bit of digging to see how individual regions on a map could be styled. As it turned out, the easiest way to obtain the data for country borders and other geographic data was by using the Geocharts in the Google Charts API. 
&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;interactive-region-geochart-example-from-the-documentationhttpsdevelopersgooglecommapsdocumentationjavascriptfusiontableslayer&quot;&gt;Interactive region geochart example from the &lt;a href=&quot;https://developers.google.com/maps/documentation/javascript/fusiontableslayer&quot;&gt;documentation&lt;/a&gt;&lt;/h5&gt;
&lt;div id=&quot;regions_div&quot; style=&quot;width: 720px; height: 400px;&quot;&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Geocharts are rendered using SVG or VML and are great for visualizing static location-based data with markers and colors. Unfortunately for me, I needed interactive maps, so my search continued. &lt;/p&gt;

&lt;h2 id=&quot;google-maps--fusion-tableshttpsdevelopersgooglecommapsdocumentationjavascriptfusiontableslayer&quot;&gt;&lt;a href=&quot;https://developers.google.com/maps/documentation/javascript/fusiontableslayer&quot;&gt;Google Maps + Fusion Tables&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I looked around Google’s vast range of developer resources some more and came across Fusion Tables layers as part of the Google Maps JavaScript API. These are pretty cool because they render data from SQL-like tables with a RESTful API onto a Google Map. For example, if you had country population data available in Fusion Tables, you could easily visualize it by region on a map. &lt;/p&gt;

&lt;h5 id=&quot;examplehttpsdevelopersgooglecommapsdocumentationjavascriptexampleslayer-fusiontables-styling-of-a-google-maps-fusion-tables-layer-with-styling&quot;&gt;&lt;a href=&quot;https://developers.google.com/maps/documentation/javascript/examples/layer-fusiontables-styling&quot;&gt;Example&lt;/a&gt; of a Google Maps Fusion Tables Layer with styling&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/assets/fusion_tables.png&quot; alt=&quot;Fusion Tables layer example&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Moreover, you can easily add click events, which can be used to pop up infoboxes with additional data, for example. However, the problem for me was that you can only have a maximum of four different layers on a map at once, which greatly limits the ability for multiple users to create custom maps on the fly.&lt;/p&gt;

&lt;h2 id=&quot;kartographhttpkartographorg&quot;&gt;&lt;a href=&quot;http://kartograph.org/&quot;&gt;Kartograph&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Since these didn’t appear to be doing me any good, I searched for some non-Google alternatives and found the Kartograph platform. I didn’t delve too deeply into this, but basically it’s built on top of jQuery and a vector graphics library called &lt;a href=&quot;http://raphaeljs.com/&quot;&gt;Raphaël.js&lt;/a&gt; and lets you create interactive SVG maps of pretty much anything. &lt;/p&gt;

&lt;h5 id=&quot;one-of-the-many-many-examples-of-kartograph-maps-check-out-their-showcasehttpkartographorgshowcase-for-other-cool-possibilites&quot;&gt;One of the many, many examples of Kartograph maps. Check out their &lt;a href=&quot;http://kartograph.org/showcase/&quot;&gt;showcase&lt;/a&gt; for other cool possibilites.&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/assets/kartograph.png&quot; alt=&quot;German visitors to the Kartograph website in 2012&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://kartograph.org/docs/kartograph.js/&quot;&gt;Read the JavaScript docs&lt;/a&gt; if you’re interested, but it seems like as long as the data exist, there’s no limit to how you can visualize it. While this is great if you’re already familiar with GDAL, the amount of functionality provided seemed like overkill for my purposes, since all I needed was a simple world map with country borders. &lt;/p&gt;

&lt;h2 id=&quot;google-maps--data-layerhttpsdevelopersgooglecommapsdocumentationjavascriptdatalayer&quot;&gt;&lt;a href=&quot;https://developers.google.com/maps/documentation/javascript/datalayer&quot;&gt;Google Maps + Data Layer&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After experimenting with what seemed like pretty much everything, I finally realized that Google might have had what I needed this whole time. Specifically, the data layer of the Google Maps API lets you load GeoJSON data on top of a map, combining easy-to-use raw data with the built-in functionality and event handling of Google Maps. &lt;/p&gt;

&lt;h5 id=&quot;examplehttpsdevelopersgooglecommapsdocumentationjavascriptexampleslayer-data-dynamic-of-a-google-maps-data-layer-with-dynamic-styling&quot;&gt;&lt;a href=&quot;https://developers.google.com/maps/documentation/javascript/examples/layer-data-dynamic&quot;&gt;Example&lt;/a&gt; of a Google Maps Data Layer with dynamic styling&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/assets/data_layer.png&quot; alt=&quot;Data Layer with dynamic styling example&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In my application, I ended up just keeping the geographic data all in one place, rendering the same country borders for every user while letting them customize their own styling on top. This was exactly what I was looking for all along.&lt;/p&gt;

&lt;h2 id=&quot;recommendation&quot;&gt;Recommendation&lt;/h2&gt;
&lt;p&gt;If you just need a simple way to visualize location-based data, use a &lt;strong&gt;Google Charts Geochart&lt;/strong&gt;. If you have a large set of predetermined data to visualize and you want it to be interactive, try using a &lt;strong&gt;Google Map with a Fusion Tables layer&lt;/strong&gt;. If you want a ton of customizability and more types of visualizations you could ever need, give &lt;strong&gt;Kartograph&lt;/strong&gt; a shot. But if you’re like me and all you need are personalized, interactive maps for multiple users, go with &lt;strong&gt;Google Maps API and a GeoJSON data layer&lt;/strong&gt;. &lt;/p&gt;
</description>
        <pubDate>Fri, 10 Oct 2014 21:15:19 -0500</pubDate>
        <link>http://danielni.me/2014/10/10/interactive-countries-and-regions-on-a-javascript-map/</link>
        <guid isPermaLink="true">http://danielni.me/2014/10/10/interactive-countries-and-regions-on-a-javascript-map/</guid>
      </item>
    
      <item>
        <title>Hello world</title>
        <description>&lt;p&gt;Hi everyone! Welcome to my new personal site! As of now it’s still a work in progress, but I’ll start posting some more interesting stuff pretty soon. In the meantime, check out some &lt;a href=&quot;http://www.danielni.me/projects&quot;&gt;projects&lt;/a&gt; I’ve done or &lt;a href=&quot;http://www.danielni.me/&quot;&gt;talk to me&lt;/a&gt; about anything!&lt;/p&gt;
</description>
        <pubDate>Tue, 09 Sep 2014 15:50:19 -0500</pubDate>
        <link>http://danielni.me/2014/09/09/hello-world/</link>
        <guid isPermaLink="true">http://danielni.me/2014/09/09/hello-world/</guid>
      </item>
    
  </channel>
</rss>
